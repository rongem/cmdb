<div class="flex">
    <ng-container *ngIf="expand && item.level >= 0">
        <div class="boxes" #bc1>
            <app-graph-item *ngFor="let graphItem of (itemsAbove | async)"
                [item]="graphItem" [expand]="false"
                (positionSize)="upperElementsChanged(graphItem.id, $event)">
            </app-graph-item>
        </div>
        <div class="canvas">
            <canvas #cv1 height="50" [width]="bc1.offsetWidth"></canvas>
        </div>
    </ng-container>
    <div #container [style.background]="item.color" class="border">
        <div>{{item.type}}</div>
        <div>{{item.name}}</div>
    </div>
    <ng-container *ngIf="expand && item.level <= 0">
        <div class="canvas">
            <canvas #cv2 height="50" [width]="bc2.offsetWidth"></canvas>
        </div>
        <div class="boxes" #bc2>
            <app-graph-item *ngFor="let graphItem of (itemsBelow | async)" [item]="graphItem" [expand]="false"></app-graph-item>
        </div>
    </ng-container>
</div>
