<textarea style="display: none" #idToClipboard></textarea>
<div class="container two-rows">
    <div class="table-cell table-header" i18n="attribute group name">Name der Attributgruppe</div>
    <div class="table-cell table-header" i18n="commands">Befehle</div>
    <ng-container *ngFor="let attributeGroup of (meta | async).attributeGroups">
        <div class="table-cell">
            <div class="input-display__elements" *ngIf="activeGroup!==attributeGroup.GroupId">
                <button mat-button class="input-display__content-button" type="button" (click)="onSetGroup(attributeGroup)"
                    matTooltip="Name der Attributgruppe &auml;ndern" i18n-matTooltip="change name of attribute group">
                    {{ attributeGroup.GroupName }}
                </button>
                <div class="input-display__content-info" 
                    matTooltip="{{getAttributeTypeNamesOfGroup((meta | async).attributeTypes, attributeGroup.GroupId)}}">
                    ({{ getAttributeTypesOfGroup((meta | async).attributeTypes, attributeGroup.GroupId).length}})
                </div>
            </div>
            <div class="input-edit__elements" *ngIf="activeGroup===attributeGroup.GroupId">
                <input autofocus type="text" [(ngModel)]="groupName"
                    (keyup.enter)="onChangeAttributeGroupName(attributeGroup)"
                    (keyup.escape)="onCancel()" />
                <button class="btn-ok" mat-icon-button type="button"
                    [disabled]="groupName===attributeGroup.GroupName || groupName.length < 3"
                    (click)="onChangeAttributeGroupName(attributeGroup)">
                    <span class="material-icons">done</span>
                </button>
                <button class="btn-cancel" mat-icon-button type="button" (click)="onCancel()"
                    matTooltip="Ungenutzte Attributgruppe löschen" i18n-matTooltip="delete unused attribute group">
                    <span class="material-icons">block</span>
                </button>
            </div>
        </div>
        <div class="table-cell">
            <button mat-icon-button type="button"
                ngxClipboard [cbContent]="attributeGroup.GroupId"
                matTooltip="Guid in die Zwischenablage kopieren"
                i18n-matTooltip="copy guid to clipboard">
                <span class="material-icons">shop_two</span>
            </button>
            <button mat-icon-button type="button" class="btn-red"
                (click)="onDeleteAttributeGroup(attributeGroup)"
                matTooltip="Attributgruppe löschen"
                i18n-matTooltip="delete attribute group"
                *ngIf="getAttributeTypesOfGroup((meta | async).attributeTypes, attributeGroup.GroupId).length === 0">
                <span class="material-icons">delete_forever</span>
           </button>
        </div>
    </ng-container>
    <div class="table-cell table-span2">
        <button mat-icon-button type="button" (click)="onCreate()" *ngIf="!createMode">
            <span class="material-icons">add_box</span>
        </button>
        <div class="input-edit__elements" *ngIf="createMode">
            <input autofocus type="text" [(ngModel)]="groupName"
                (keyup.enter)="onCreateAttributeGroup()"
                (keyup.escape)="onCancel()" />
            <button class="btn-ok" mat-icon-button type="button" 
                (click)="onCreateAttributeGroup()">
                <span class="material-icons">done</span>
            </button>
            <button class="btn-cancel" mat-icon-button type="button"
                (click)="onCancel()">
                <span class="material-icons">block</span>
            </button>
        </div>
    </div>
</div>
